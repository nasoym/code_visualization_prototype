<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style type="text/css">
    rect {
      fill: none;
      stroke: #fff;
    }
    text {
      font: 10px sans-serif;
    }
  </style>
  <title></title>
</head>
<body style="padding:0;margin:0;">
  <script src="lib/d3.min.js" type="text/javascript"></script>
  <script src="lib/query.js" type="text/javascript"></script>
  <script src="lib/rect_at_element.js" type="text/javascript"></script>
  <script src="lib/draw_treemap.js" type="text/javascript"></script>
  <script type="text/javascript">

var width = 780;
var height = 780;

var treemap = d3.layout.treemap()
  .padding(1)
  .size([width, height])
  .value(function(d) { return d.size; })
  ;

var svg = d3.select("body").append("svg")
  .attr("width", width)
  .attr("height", height)
  .append("g")
  ;

var treemapFile = querySt("treemap");
if (treemapFile !== null) {
  console.log("treemapfile: " + treemapFile);

  d3.json(treemapFile, function(error, json) {
    if (error) throw error;
    drawTreemap(svg,treemap, json);

    var drawSvgElement = drawById(svg);

    drawSvgElement("baufiSmart/backend/angebote");
    //drawSvgElement("baufiSmart/api-rest");

    drawSvgElement("antragsuebersicht");
    drawSvgElement("baufiSmart");
    drawSvgElement("dokumentenverwaltung");
    drawSvgElement("gateway");
    drawSvgElement("infrastruktur");
    drawSvgElement("partnermanagement");
    drawSvgElement("support");
    drawSvgElement("uebersicht");
    drawSvgElement("vorgang");
  });
}
else {
  console.log("no treemap query paramter is provided");
}

  </script>
</body>
</html>
